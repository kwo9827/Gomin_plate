<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-0BBB9S7JHZ"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-0BBB9S7JHZ");
    </script>

    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <meta name="theme-color" content="#ffffff" />

    <!-- ë§í¬ ê³µìœ  ì¸ë„¤ì¼ì„ ìœ„í•œ ë©”íƒ€ íƒœê·¸ ì¶”ê°€ -->
    <meta property="og:title" content="ê³ ë¯¼ í•œ ì ‘ì‹œ" />
    <meta property="og:url" content="https://www.gomin.my/" />
    <meta
      property="og:image"
      content="https://res.cloudinary.com/gominsushi/image/upload/v1739762080/%EA%B3%B5%EC%9C%A0_nssh19.png"
    />
    <meta property="og:description" content="ë‚´ ê³ ë¯¼ ì´ˆë°¥ì„ ë¨¹ì–´ì¤˜ğŸ½ï¸" />

    <!-- ìºì‹œ ë²„ìŠ¤íŒ…ì„ ìœ„í•œ ë©”íƒ€ íƒœê·¸ ì¶”ê°€ -->
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <!-- iOS ì§€ì›ì„ ìœ„í•œ ë©”íƒ€ íƒœê·¸ ì¶”ê°€ -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="ê³ ë¯¼í•œì ‘ì‹œ" />
    <link rel="apple-touch-icon" href="/icons/apple-icon-180x180.png" />

    <link rel="icon" type="image/svg+xml" href="/1ogo.ico" />
    <link rel="manifest" href="/manifest.json" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <title>ê³ ë¯¼ í•œ ì ‘ì‹œ</title>
  </head>
  <body>
    <div id="root"></div>
    <!-- ì¹´ì¹´ì˜¤ SDK -->
    <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
    <script type="module" src="/src/main.jsx"></script>

    <script>
      function detectBrowserEnvironment() {
        const ua = navigator.userAgent;
        const isWKWebView = window.webkit && window.webkit.messageHandlers;
        const results = {
          isIOS: /iPad|iPhone|iPod/.test(ua) && !window.MSStream,
          isSafari: /^((?!chrome|android).)*safari/i.test(ua),
          isKakaoTalk: /KAKAOTALK/i.test(ua),
          isNaver: /NAVER\(inapp/i.test(ua),
          isInstagram: /Instagram/i.test(ua),
          isFacebook: /FBAN|FBAV/i.test(ua),
          isLine: /Line/i.test(ua),
          isStandalone: window.navigator.standalone === true,
          isWKWebView: isWKWebView,
          isIOSInAppBrowser: false,
        };
        if (results.isIOS) {
          results.isIOSInAppBrowser =
            results.isWKWebView ||
            results.isKakaoTalk ||
            results.isNaver ||
            results.isInstagram ||
            results.isFacebook ||
            results.isLine ||
            (!results.isSafari && !results.isStandalone);
        }
        return results.isIOSInAppBrowser;
      }

      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          if (!detectBrowserEnvironment()) {
            navigator.serviceWorker
              .register("/firebase-messaging-sw.js", { scope: "/" })
              .then((registration) => {
                // console.log("ì„œë¹„ìŠ¤ ì›Œì»¤ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤:", registration);
              })
              .catch((err) => {
                console.error("ì„œë¹„ìŠ¤ ì›Œì»¤ ë“±ë¡ ì‹¤íŒ¨:", err);
              });
          } else {
            console.log(
              "iOS ì¸ì•± ë¸Œë¼ìš°ì €ì—ì„œëŠ” ì„œë¹„ìŠ¤ ì›Œì»¤ë¥¼ ë“±ë¡í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."
            );
          }
        });
      }
    </script>
  </body>
</html>
